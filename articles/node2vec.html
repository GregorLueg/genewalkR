<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Node2vec • genewalkR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="node2vec_files/libs/quarto-html/popper.min.js"></script><script src="node2vec_files/libs/quarto-html/tippy.umd.min.js"></script><link href="node2vec_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="node2vec_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Node2vec">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">genewalkR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/genewalk.html">Running GeneWalk</a></li>
    <li><a class="dropdown-item" href="../articles/node2vec.html">Node2vec</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/GregorLueg/genewalkR" aria-label="GitHub"><span class="fa fab fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Node2vec</h1>





      <div class="d-none name"><code></code></div>
    </div>






    <section class="section level2"><h2 id="running-node2vec">Running node2vec<a class="anchor" aria-label="anchor" href="#running-node2vec"></a>
</h2>
<section class="level2"><h3 id="loading-in-libraries">Loading in libraries<a class="anchor" aria-label="anchor" href="#loading-in-libraries"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gregorlueg.github.io/genewalkR/">genewalkR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
</div>
</section><section class="level2"><h3 id="synthetic-data">Synthetic data<a class="anchor" aria-label="anchor" href="#synthetic-data"></a>
</h3>
<p>genewalkR provides quite a few synthetic graph data sets for testing and exploration purposes, namely:</p>
<ul>
<li>
<strong>Barbell graph</strong>: a graph of two distinct clusters</li>
<li>
<strong>Cavemen graph</strong>: a graph with distinct communities with a low probability of connection between them.</li>
<li>
<strong>Stochastic blocks</strong>: a more densely connected graph with communities; however, more cross-edges compared to the previous graphs.</li>
</ul>
<section class="level3"><h4 id="barbell-graph">Barbell graph<a class="anchor" aria-label="anchor" href="#barbell-graph"></a>
</h4>
<p>Let’s load in the barbell graph.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># this creates a random data set with 20 nodes per barbell cluster</span></span>
<span><span class="va">barbell_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/node2vec_test_data.html">node2vec_test_data</a></span><span class="op">(</span></span>
<span>  test_type <span class="op">=</span> <span class="st">"barbell"</span>,</span>
<span>  n_nodes_per_cluster <span class="op">=</span> <span class="fl">20L</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<section class="level4"><h5 id="exploring-the-data">Exploring the data<a class="anchor" aria-label="anchor" href="#exploring-the-data"></a>
</h5>
<p>Let’s transform this into an igraph first and just look at the data like this</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">graph_from_data_frame</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">barbell_data</span><span class="op">$</span><span class="va">edges</span>, directed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>, vertex.label <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="node2vec_files/figure-html/generate%20igraph%20from%20barbell%20data-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level4"><h5 id="running-node2vec-1">Running node2vec<a class="anchor" aria-label="anchor" href="#running-node2vec-1"></a>
</h5>
<p>You can appreciate a nice barbell graph with two distinct groups. Now let’s run node2vec on this data. The node2vec implementation is based on <a href="https://github.com/GregorLueg/node2vec-rs" class="external-link">node2vec-rs</a>, a Rust-based implementation of node2vec. In its default setting, we use a HIGHLY optimised version that runs on the CPU with SIMD-acceleration and a tolerated race condition (undefined behaviour in low level terms) that makes this very fast. The issue with this is that the underlying embeddings will not be deterministic; however, the structure of the underlying graph will be identified. If you really, really, really need deterministic results here, set the <code>n_workers = 1L</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run node2vec</span></span>
<span><span class="va">barbell_node2vec_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/node2vec.html">node2vec</a></span><span class="op">(</span></span>
<span>  graph_dt <span class="op">=</span> <span class="va">barbell_data</span><span class="op">$</span><span class="va">edges</span>,</span>
<span>  .verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># the parameters are controlled via a supplied parameter list, see code here</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="../reference/params_node2vec.html">params_node2vec</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 10</span></span>
<span><span class="co">#&gt;  $ p             : num 1</span></span>
<span><span class="co">#&gt;  $ q             : num 1</span></span>
<span><span class="co">#&gt;  $ walks_per_node: int 40</span></span>
<span><span class="co">#&gt;  $ walk_length   : int 40</span></span>
<span><span class="co">#&gt;  $ num_workers   : int 4</span></span>
<span><span class="co">#&gt;  $ batch_size    : int 256</span></span>
<span><span class="co">#&gt;  $ n_epochs      : int 20</span></span>
<span><span class="co">#&gt;  $ n_negatives   : int 5</span></span>
<span><span class="co">#&gt;  $ window_size   : int 2</span></span>
<span><span class="co">#&gt;  $ lr            : num 0.01</span></span>
<span></span>
<span><span class="co"># this list can be supplied and tells node2vec how to run</span></span></code></pre></div>
</div>
<p>If you want more details on how node2vec actually works, please, check the original paper from <a href="https://arxiv.org/abs/1607.00653" class="external-link">Grover and Leskovec</a>. Let’s project that data onto two dimensions via PCA and visualise the results</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run pca on the embeddings</span></span>
<span><span class="va">pca_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/prcomp.html" class="external-link">prcomp</a></span><span class="op">(</span><span class="va">barbell_node2vec_results</span>, scale. <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pca_dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="va">pca_results</span><span class="op">$</span><span class="va">x</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, keep.rownames <span class="op">=</span> <span class="st">"node"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">.</span>, <span class="va">barbell_data</span><span class="op">$</span><span class="va">node_labels</span>, by <span class="op">=</span> <span class="st">"node"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pca_dt</span><span class="op">[</span>, <span class="va">cluster</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cluster</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pca_dt</span>, mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">PC1</span>, y <span class="op">=</span> <span class="va">PC2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">cluster</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="node2vec_files/figure-html/node2vec%20pca-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>As you can appreciate, node2vec embeddings nicely identify the two groups in the underlying graph.</p>
</section></section></section><section class="level2"><h3 id="other-graphs">Other graphs<a class="anchor" aria-label="anchor" href="#other-graphs"></a>
</h3>
<p>Let’s have a look at some other graphs with well known structures</p>
<section class="level3"><h4 id="cavemen-graph">Cavemen graph<a class="anchor" aria-label="anchor" href="#cavemen-graph"></a>
</h4>
<p>Visualisation of the graph structure in igraph first:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># generate the cavemen</span></span>
<span><span class="va">caveman_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/node2vec_test_data.html">node2vec_test_data</a></span><span class="op">(</span></span>
<span>  test_type <span class="op">=</span> <span class="st">"cavemen"</span>, n_clusters <span class="op">=</span> <span class="fl">5L</span>, p_between <span class="op">=</span> <span class="fl">0.5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">graph_from_data_frame</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">caveman_data</span><span class="op">$</span><span class="va">edges</span>, directed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>, vertex.label <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="node2vec_files/figure-html/cavemen%20igraph-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Let’s check out node2vec on this graph</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run node2vec</span></span>
<span><span class="va">cavemen_node2vec_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/node2vec.html">node2vec</a></span><span class="op">(</span></span>
<span>  graph_dt <span class="op">=</span> <span class="va">caveman_data</span><span class="op">$</span><span class="va">edges</span>,</span>
<span>  .verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># run pca on the embeddings</span></span>
<span><span class="va">pca_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/prcomp.html" class="external-link">prcomp</a></span><span class="op">(</span><span class="va">cavemen_node2vec_results</span>, scale. <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pca_dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="va">pca_results</span><span class="op">$</span><span class="va">x</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, keep.rownames <span class="op">=</span> <span class="st">"node"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">.</span>, <span class="va">caveman_data</span><span class="op">$</span><span class="va">node_labels</span>, by <span class="op">=</span> <span class="st">"node"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pca_dt</span><span class="op">[</span>, <span class="va">cluster</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cluster</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pca_dt</span>, mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">PC1</span>, y <span class="op">=</span> <span class="va">PC2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">cluster</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="node2vec_files/figure-html/cavemen%20node2vec%20visualisation-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h4 id="stochastic-blocks">Stochastic blocks<a class="anchor" aria-label="anchor" href="#stochastic-blocks"></a>
</h4>
<p>In this graph, we have less defined communities with more between edges across the communities.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># generate the stochastic block graph</span></span>
<span><span class="va">stochastic_block_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/node2vec_test_data.html">node2vec_test_data</a></span><span class="op">(</span></span>
<span>  test_type <span class="op">=</span> <span class="st">"stochastic_block"</span>, n_clusters <span class="op">=</span> <span class="fl">3L</span>, p_between <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/graph_from_data_frame.html" class="external-link">graph_from_data_frame</a></span><span class="op">(</span></span>
<span>  d <span class="op">=</span> <span class="va">stochastic_block_data</span><span class="op">$</span><span class="va">edges</span>, </span>
<span>  directed <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>, vertex.label <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="node2vec_files/figure-html/stochastic%20block%20igraph-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Let’s check out node2vec on this graph</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># run node2vec</span></span>
<span><span class="va">stochastic_blocks_node2vec_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/node2vec.html">node2vec</a></span><span class="op">(</span></span>
<span>  graph_dt <span class="op">=</span> <span class="va">stochastic_block_data</span><span class="op">$</span><span class="va">edges</span>,</span>
<span>  .verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># run pca on the embeddings</span></span>
<span><span class="va">pca_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/prcomp.html" class="external-link">prcomp</a></span><span class="op">(</span><span class="va">stochastic_blocks_node2vec_results</span>, scale. <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pca_dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/as.data.table.html" class="external-link">as.data.table</a></span><span class="op">(</span><span class="va">pca_results</span><span class="op">$</span><span class="va">x</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, keep.rownames <span class="op">=</span> <span class="st">"node"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">.</span>, <span class="va">stochastic_block_data</span><span class="op">$</span><span class="va">node_labels</span>, by <span class="op">=</span> <span class="st">"node"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pca_dt</span><span class="op">[</span>, <span class="va">cluster</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">cluster</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">pca_dt</span>, mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">PC1</span>, y <span class="op">=</span> <span class="va">PC2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">cluster</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="node2vec_files/figure-html/stochastic%20block%20node2vec%20visualisation-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In conclusion, node2vec generates an embedding of the underlying network structure that you can then use to visualise the data or do additional analysis (supervised tasks or like in this package statistical testing for gene &lt;&gt; pathway associations in a bag of genes). Pending on your needs, you can go high on the available workers and make this fast, or if you really, really, really need similar embeddings every single time, you can also choose to disable the parallelism during training.</p>
</section></section></section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gregor Lueg.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
